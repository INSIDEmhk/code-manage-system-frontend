<style scoped>
	.admin-page {
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		width:637.5rpx;
		margin: auto; /* è‡ªåŠ¨å±…ä¸­ */
	}
	
	
	
	
	
	
	.error-pop {
	    position: fixed;
		left: 20%; /* æ°´å¹³å±…ä¸­ */
	    top: -500rpx; /* é»˜è®¤éšè—åœ¨é¡¶éƒ¨ä»¥å¤– */
		width:60%;
	    background-color: #ff4d4f;
	    color: white;
	    font-size: 32rpx;
	    text-align: center;
	    line-height: 100rpx;
	    height: 100rpx;
	    z-index: 3000;
	    box-shadow: 0rpx 8rpx 12rpx rgba(0, 0, 0, 0.1);
	    transition: top 0.3s ease; 
		border-radius:20rpx;
	}
	
	.error-pop.active {
	    top: 105rpx; 
	}
	
	
	
	
	
	
	.text-area{
		width: 100%; 
		text-align: left; 
		padding-left: 20rpx; 
		font-size: 28rpx; 
		font-weight: bold; 
		margin-top: 80rpx;
		padding-bottom: 30rpx; 
		margin-bottom:20rpx;
		display:flex;
		flex-direction:row;
	}
	
	.text{
		font-size:35rpx; 
		flex-grow: 1; /* å æ®å‰©ä½™ç©ºé—´ï¼Œè®©è¡Œå†…å‰©ä½™å…ƒç´ ç´§é å³ä¾§ */
	}
	
	
	
	
	
	
	
	.button-container {
	    width: 100%;       
		display:flex;
		flex-direction: row;
		/* border:1px solid black; */
		justify-content: space-between;
		margin-bottom:15rpx;
	}

	.createTeacher-button {
		cursor: pointer;
		border: none;
		outline:none;
		background-image: url('/static/createTeacherButton.png');
		height:90rpx;
		width:140rpx;
		background-size: cover;
		background-size: contain;
		background-position: center; 
		/* border:1px solid black; */
		margin:0;
		margin-left:10rpx;
	}
	
	.createTeacher-button:after {
		border:none;
	}
	
	.bulkImport-button {
		cursor: pointer;
		border: none;
		outline:none;
		background-image: url('/static/bulkImportButton.png'); 
		height:90rpx;
		width:210rpx;
		background-size: cover;
		background-position: center; 
		background-size: contain;
		/* border:1px solid black; */
		margin-left: auto;
		margin:0;
		margin-left:20rpx;
		transform: translateX(0rpx) translateY(6rpx); /* å‘å³å¹³ç§»ï¼Œå‘ä¸‹å¹³ç§» */
	}
	
	.bulkImport-button:after {
		border:none;
	}
	
	
	
	
	
	
	
	
	
	
	
	/* å¼¹çª—æ ·å¼ */
	.modal-overlay {
	  position: fixed;
	  top: 0;
	  left: 0;
	  width: 100%;
	  height: 100%;
	  background-color: rgba(0, 0, 0, 0.5);
	  display: flex;
	  align-items: center;
	  justify-content: center;
	  z-index: 2000; /* ä¿è¯é®ç½©å±‚çš„ z-index æ¯”åº•éƒ¨å¯¼èˆªæ é«˜ */
	}
	
	.modal-content {
	  width: 80%;
	  background-color: white;
	  border-radius: 10rpx;
	  padding: 30rpx;
	  text-align: center;
	  box-shadow: 0 4rpx 8rpx rgba(0, 0, 0, 0.2);
	}
	
	.modal-content1 {
	  width: 80%;
	  background-color: white;
	  border-radius: 10rpx;
	  padding: 30rpx;
	  text-align: center;
	  box-shadow: 0 4rpx 8rpx rgba(0, 0, 0, 0.2);
	  animation: slideIn1 0.5s ease forwards;  /* æ»‘å…¥åŠ¨ç”» */
	}
	
	.modal-buttons {
	  display: flex;
	  justify-content: space-around;
	  margin-top: 35rpx;
	}
	
	.modal-button {
	  width: 120rpx;
	  height: 60rpx;
	  border-radius: 10rpx;
	  font-size: 28rpx;
	  text-align: center;
	  line-height: 60rpx;
	  cursor: pointer;
	}
	
	.confirm-button {
		/* #28a745 */
	  background-color: #f44336;
	  color: white;
	}
	
	.confirm-button1 {
		/* #28a745 */
	  background-color: #28a745;
	  background-color: #f44336;
	  color: white;
	}
	
	.cancel-button {
	  background-color: #ccc;
	  color: black;
	}

	.info-label {
		font-size: 28rpx;
		margin-bottom: 10rpx;
		display: flex; 
		justify-content: flex-start; /* å·¦å¯¹é½ */
	}
	.info-input {
		width: 95%;
		height: 38rpx; /* è®¾ç½®è¾“å…¥æ¡†çš„é«˜åº¦ */
		/* min-height:0rpx; */
		padding: 10rpx;
		font-size: 28rpx;
		border-radius: 10rpx;
		margin-bottom: 20rpx;
		border:1px solid lightgray;
		margin-top:15rpx;
		margin-bottom:60rpx;
		text-align: left;
	}


	
	
	
	
	
	
	
	
	
	.teacher-list-section {
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: flex-start; 
		width: 100%;
		padding: 10rpx;
		box-sizing: border-box; 
		border:1px solid gray;
		border-radius: 20rpx;
		padding-left:15rpx;
		padding-right:15rpx;
		min-height:180rpx;
		margin-bottom: 20rpx;
	}
	
	.teacher-item {
		width: 100%; 
		margin-top:20rpx;
		margin-bottom: 30rpx;
		animation: slideIn 0.6s ease forwards;  /* æ»‘å…¥åŠ¨ç”» */
	}
	
	.teacher-card {
		display: flex;
		flex-direction: column;  
		background-color: #f9f9f9; 
		padding: 20rpx; 
		border-radius: 10rpx; 
		box-shadow: 0 2rpx 6rpx rgba(0, 0, 0, 0.1); 
		border: 1px solid #ddd; 
		height:190rpx;
		border:none;
	}
	
	.teacher-name {
		font-size: 34rpx;
		transform: translateX(0rpx) translateY(10rpx); 
	}
	
	.teacher-teacherId {
		font-size: 20rpx;
		transform: translateX(0rpx) translateY(30rpx); 
		margin-bottom: 10rpx;
	}
	
	.teacher-email {
		font-size: 20rpx;
		transform: translateX(0rpx) translateY(24rpx); 
	}
	
	
	.delete-button {
	    width: 160rpx;
	    height: 50rpx;
	    background-color: #f44336;
	    color: white;
	    font-size: 24rpx;
	    border-radius: 12rpx;
	    display: flex;
	    justify-content: center;
	    align-items: center;
	    cursor: pointer;
		margin-right:0;
	}
	
	.delete-button:hover {
	    background-color: #e53935;
	}
	
	
	
	
	
	

	/* ä»ä¸Šåˆ°ä¸‹æ»‘å…¥ */
	@keyframes slideIn {
		0% {
			transform: translateY(-20rpx);  
			opacity: 0;  
		}
		100% {
			transform: translateY(0);  
			opacity: 1;  
		}
	}
	
	@keyframes slideIn1 {
	    0% {
	        transform: translateY(-80rpx); 
	        opacity: 0;
	    }
	    100% {
	        transform: translateY(0); 
	        opacity: 1;
	    }
	}



	
	
	
	
	
	/* åº•éƒ¨çš„å¯¼èˆªæ  */
	.footer-blank{
		height: 100rpx;
	}
	.footer {
		display: flex;
		flex-direction: row;
		align-items: center;
		justify-content: space-around;
		position: fixed; /* å›ºå®šåœ¨é¡µé¢åº•éƒ¨ */
		bottom: 0;
		left: 0;
		width: 100%;
		height: 100rpx;
		background-color: #f9f9f9;
		border-top: 1px solid #e0e0e0;
		box-shadow: 0 -2rpx 4rpx rgba(0, 0, 0, 0.1);
	}
	
	.footer-item {
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		flex: 1;
		color: #666666;
		font-size: 28rpx;
	}
	
	.footer-item .icon {
		font-size: 36rpx;
		margin-bottom: 5rpx;
	}
	
	.footer-item .text {
		font-size: 24rpx;
	}
</style>






<template>
	<view class="admin-page">
		<view class="error-pop" :class="{ active: this.errorMessage }" :style="{ backgroundColor: errorPopBackgroundColor }">{{ this.errorMessage }}</view>
		
		
		<view class="text-area">
			<text class="text">æ•™å¸ˆä¿¡æ¯å±•ç¤º</text>
		</view>
		
		
		<view class="button-container">
			<button class="createTeacher-button" @click="openCreateTeacherModal"></button>
			<!-- <button class="bulkImport-button" @click="openFirstConfirmationModal"></button> -->
		</view>
		
		
		
		
		
		<!-- åˆ›å»ºæ•™å¸ˆå¼¹çª— -->
		<view v-if="showCreateTeacherModal" class="modal-overlay">
		  <view class="modal-content1">
			<text class="info-label">æ–°æ•™å¸ˆå§“åï¼š</text>
			<input v-model="newTeacherName" class="info-input" />
			<text class="info-label">æ–°æ•™å¸ˆé‚®ç®±ï¼š</text>
			<input v-model="newTeacherEmail" class="info-input" />
			<!-- å¼¹çª—æ“ä½œæŒ‰é’® -->
			<view class="modal-buttons">
			  <button class="modal-button confirm-button1" @click="handleCreateTeacher">ç¡®è®¤</button>
			  <button class="modal-button cancel-button" @click="closeCreateTeacherModal">å–æ¶ˆ</button>
			</view>
		  </view>
		</view>
		
		
		
		
		
		<!-- åˆ é™¤æ•™å¸ˆçš„ç¬¬ä¸€ä¸ªç¡®è®¤å¼¹çª— -->
		<view v-if="showFirstConfirmationModal1" class="modal-overlay">
		    <view class="modal-content">
		        <text>æ‚¨ç¡®å®šè¦åˆ é™¤æ•™å¸ˆ  <text style="color: red;">{{this.deleteTeacherName}}</text>  çš„å…¨éƒ¨ä¿¡æ¯å—ï¼Ÿ</text>
		        <view class="modal-buttons">
					<button class="modal-button confirm-button" @click="openSecondConfirmationModal1">ç¡®è®¤</button>
					<button class="modal-button cancel-button" @click="closeFirstConfirmationModal1">å–æ¶ˆ</button>
		        </view>
		    </view>
		</view>
		
		<!-- åˆ é™¤æ•™å¸ˆçš„ç¬¬äºŒä¸ªç¡®è®¤å¼¹çª— -->
		<view v-if="showSecondConfirmationModal1" class="modal-overlay">
		    <view class="modal-content">
		        <text>åˆ é™¤æ•™å¸ˆä¿¡æ¯å±äº  <text style="color: red;">æ•æ„Ÿ</text>  æ“ä½œï¼Œ<br>æ‚¨ç¡®å®šè¦æ‰§è¡Œå—ï¼Ÿ<br><text style="color: red;">ï¼ˆè¯¥æ“ä½œä¸€æ—¦æ‰§è¡Œä¾¿æ— æ³•æ’¤é”€ï¼‰</text></text>
		        <view class="modal-buttons">
					<button class="modal-button confirm-button" @click="handleDeleteTeacher">ç¡®è®¤</button>
					<button class="modal-button cancel-button" @click="closeSecondConfirmationModal1">å–æ¶ˆ</button>
		        </view>
		    </view>
		</view>
		
		
		
		
		
		
		<!-- æ‰¹é‡å¯¼å…¥çš„ç¬¬ä¸€ä¸ªç¡®è®¤å¼¹çª— -->
<!-- 		<view v-if="showFirstConfirmationModal" class="modal-overlay">
		    <view class="modal-content1">
		        <text>æ‚¨ç¡®å®šè¦æ‰§è¡Œæ•™å¸ˆä¿¡æ¯æ‰¹é‡å¯¼å…¥æ“ä½œå—ï¼Ÿ</text>
		        <view class="modal-buttons">
					<button class="modal-button confirm-button" @click="openSecondConfirmationModal">ç¡®è®¤</button>
					<button class="modal-button cancel-button" @click="closeFirstConfirmationModal">å–æ¶ˆ</button>
		        </view>
		    </view>
		</view> -->
		
		<!-- æ‰¹é‡å¯¼å…¥çš„ç¬¬äºŒä¸ªç¡®è®¤å¼¹çª— -->
<!-- 		<view v-if="showSecondConfirmationModal" class="modal-overlay">
		    <view class="modal-content">
		        <text>æ‰¹é‡å¯¼å…¥å°†<text style="color: red;">å½±å“</text>ç°æœ‰çš„æ•™å¸ˆä¿¡æ¯è¡¨å•<br><text style="color: red;">ï¼ˆè¯¥æ“ä½œä¸€æ—¦æ‰§è¡Œä¾¿æ— æ³•æ’¤é”€ï¼‰</text></text>
		        <view class="modal-buttons">
					<button class="modal-button confirm-button" @click="handleBulkImport">ç¡®è®¤</button>
					<button class="modal-button cancel-button" @click="closeSecondConfirmationModal">å–æ¶ˆ</button>
		        </view>
		    </view>
		</view> -->
			
			
			
			
			
		
		
		<!-- æ•™å¸ˆåˆ—è¡¨å±•ç¤º -->
		<view class="teacher-list-section">
		  <view class="teacher-item" v-for="teacher in teacherList" :key="teacher.teacherId">
		    <view class="teacher-card">
		      <text class="teacher-name">æ•™å¸ˆå§“åï¼š{{ teacher.name }}</text>
			  <!-- <button class="delete-button" @click="openFirstConfirmationModal1(teacher.teacherId,teacher.name)">åˆ é™¤æ•™å¸ˆï¸</button> -->
			  <text class="teacher-teacherId">æ•™å¸ˆè´¦å·ï¼š{{ teacher.teacherId }}</text>
			   <text class="teacher-email">æ•™å¸ˆé‚®ç®±ï¼š{{ teacher.email ||"æ— " }}</text>
		    </view>
		  </view>
		</view>
		
		
		
		<!-- åº•éƒ¨å¯¼èˆªæ  -->
		<!-- æ·»åŠ ä¸€æ®µç©ºç™½æŒ¤å ç©ºé—´ï¼Œé˜²æ­¢footeråº•éƒ¨å¯¼èˆªæ é®æŒ¡ä½æœ€ä¸‹é¢çš„ä½œä¸š -->
		<view class="footer-blank"></view>
		<view class="footer">
			<view class="footer-item" @click="goToHome">
				<view class="icon">ğŸ“…</view>
				<view class="text">å­¦æœŸç®¡ç†</view>
			</view>
			<view class="footer-item" @click="goToTeachers">
				<view class="icon">ğŸ§‘â€ğŸ“</view>
				<view class="text"  style="color:#ff4d4f">æ•™å¸ˆç®¡ç†</view>
			</view>
			<view class="footer-item" @click="goToProfile">
				<view class="icon">ğŸ‘¤</view>
				<view class="text">ç³»ç»Ÿç®¡ç†</view>
			</view>
		</view>
	</view>
</template>






<script>
// import * as XLSX from 'xlsx';
import { config } from '../../../config'; // å¯¼å…¥ config.js æ–‡ä»¶


export default {
    data() {
    	return {
			apiUrl: `http://${config.host}:${config.port}`, // ä½¿ç”¨é…ç½®çš„hostå’Œport
			
			
			who:"",
			
			
			
			// é”™è¯¯å¼¹çª—æç¤ºä¿¡æ¯
			errorMessage: '',
			errorPopBackgroundColor: '#ff4d4f', // é”™è¯¯å¼¹çª—èƒŒæ™¯é¢œè‰²
			timeoutId: null,
			
			
			// æ•™å¸ˆåˆ—è¡¨
			teacherList:[],
			
			
			
			// æ–°æ•™å¸ˆä¿¡æ¯
			newTeacherName: "",
			newTeacherEmail:"",
			
			
			
			// é€‰æ‹©è¦åˆ é™¤çš„æ•™å¸ˆ
			deleteTeacherId: "",
			deleteTeacherName:"",


			// åˆ›å»ºæ•™å¸ˆå¼¹çª—
			showCreateTeacherModal: false,
			
			
			
			// æ‰¹é‡å¯¼å…¥ç¡®è®¤å¼¹çª—
			// showFirstConfirmationModal: false,
			// showSecondConfirmationModal: false,
			
			// åˆ é™¤æ•™å¸ˆç¡®è®¤å¼¹çª—
			showFirstConfirmationModal1: false,
			showSecondConfirmationModal1: false,
			
			
			

    	};
    },
	
	
	onLoad(query) {
		console.log(query.id);
		this.who=query.id;
		
		
		if(!this.who){
			// console.log('Debug: this.who is', this.who); 
			this.showError("è¯·å…ˆç™»å½•ï¼");
			uni.reLaunch({
				// (urlåæœŸéœ€è¦ä¿®æ”¹ï¼ï¼ï¼)
			    url: "/pages/index/login"
			});
			return;
		}
		
		
		
		this.loadTeacherList();
	},
	
	
	
	methods: {
		// è·å–æ•™å¸ˆåˆ—è¡¨
		loadTeacherList(){
			uni.request({
			    url: `${this.apiUrl}/admin/queryAllTeacher`, 
			    method: 'GET',
			    success: (res) => {
					 // console.log(res);
			        if (res.data.code === '000') {
						this.teacherList = res.data.data;
			        } 
					else {
						this.showError(res.data.info); // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
			        }
			    },
			    fail: () => {
					this.showError("ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åå†è¯•");
			    }
			});
		},
		
		
		
		
			// é¡¶éƒ¨å¼¹çª—
			showError(message, color = "#ff4d4f") {
				this.errorMessage = message; // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
				this.errorPopBackgroundColor = color; // è®¾ç½®å¼¹çª—èƒŒæ™¯è‰²
				if (this.timeoutId) {
					clearTimeout(this.timeoutId); // æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨
				}
				this.timeoutId = setTimeout(() => {
					this.errorMessage = ""; // éšè—é”™è¯¯ä¿¡æ¯
					this.timeoutId = null; // æ¸…é™¤å®šæ—¶å™¨
				}, 1200); // 1.2ç§’åéšè—é”™è¯¯ä¿¡æ¯
			},
		
		
		// æ‰“å¼€åˆ›å»ºæ•™å¸ˆå¼¹çª—
		openCreateTeacherModal() {
			if(!this.who){
				// console.log('Debug: this.who is', this.who); 
				this.showError("è¯·å…ˆç™»å½•ï¼");
				return;
			}
		    this.showCreateTeacherModal = true;
		},
		
		// å…³é—­åˆ›å»ºæ•™å¸ˆå¼¹çª—
		closeCreateTeacherModal() {
		    this.showCreateTeacherModal = false;
		    this.resetNewTeacherFields();
		},
		
		// é‡ç½®åˆ›å»ºæ•™å¸ˆè¡¨å•
		resetNewTeacherFields() {
		    this.newTeacherName="";
			this.newTeacherEmail="";
		},
		
		
		
		
		// åˆ›å»ºæ•™å¸ˆ
		handleCreateTeacher(){
			if ( !this.newTeacherName || !this.newTeacherEmail) {
			    this.showError("æ•™å¸ˆå§“åå’Œé‚®ç®±å‡ä¸èƒ½ä¸ºç©ºï¼");
			    return;
			}
			if (this.teacherList.some(teacher => teacher.teacherId == this.newTeacherId)) {
			    this.showError("è¯¥æ•™å¸ˆè´¦å·å·²å­˜åœ¨ï¼");
			    return;
			}
		    this.createTeacherRequest();
		},
		
		createTeacherRequest(){
			// æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
			uni.showLoading({
				title: 'æ­£åœ¨åˆ›å»ºæ•™å¸ˆ...', // åŠ è½½åŠ¨ç”»çš„æç¤ºæ–‡å­—
				mask: true // é˜»æ­¢ç‚¹å‡»èƒŒæ™¯æ—¶å…³é—­åŠ è½½æç¤º
			});

			const teacherData = {
				name: this.newTeacherName ,   
				email: this.newTeacherEmail, 
			};

			uni.request({
				url: `${this.apiUrl}/admin/createTeacher`, // æ›¿æ¢ä¸ºå®é™…æ¥å£åœ°å€
				method: 'POST',
				data: teacherData, // è¯·æ±‚ä½“æ•°æ®
				header: {
					'Content-Type': 'application/json', // è¯·æ±‚å¤´ï¼Œå†…å®¹ç±»å‹ä¸ºJSON
				},
				success: (res) => {
					if (res.data.code === '000') {
						this.showError("æ•™å¸ˆåˆ›å»ºæˆåŠŸï¼", "#28a745");
						uni.showToast({
							title: 'åˆ›å»ºæˆåŠŸ',  // æç¤ºçš„æ–‡æœ¬
							icon: 'success',   // æç¤ºå›¾æ ‡
							duration: 1000     // æç¤ºæ¡†çš„æ˜¾ç¤ºæ—¶é•¿
						});
						this.loadTeacherList();
					} else {
						this.showError("æ•™å¸ˆåˆ›å»ºå¤±è´¥ï¼", "#ff4d4f");
					}
				},
				fail: (err) => {
					this.showError("ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åå†è¯•", "#ff4d4f");
				},
				complete: () => {
					uni.hideLoading();  // è¯·æ±‚å®Œæˆåéšè—åŠ è½½åŠ¨ç”»
					this.closeCreateTeacherModal(); // å…³é—­æ•™å¸ˆåˆ›å»ºå¼¹çª—æˆ–ç›¸å…³æ“ä½œ
				}
			});
		},
		
		
		
		
		
		
		
		// åˆ é™¤æ•™å¸ˆ
		handleDeleteTeacher(){
			if (this.deleteTeacherId) {
				this.deleteTeacherRequest(this.deleteTeacherId);
			}
			if(true){
				this.showError("æ•™å¸ˆåˆ é™¤æˆåŠŸï¼", "#28a745");
				this.closeSecondConfirmationModal1();
			}
			else{
				this.showError("æ•™å¸ˆåˆ é™¤å¤±è´¥");
				this.closeSecondConfirmationModal1();
			}
		},
		deleteTeacherRequest(teacherId){
			// è¿™è¡Œä»£ç åªæ˜¯æ¨¡æ‹Ÿä¸æœåŠ¡å™¨äº¤äº’
			this.teacherList = this.teacherList.filter(teacher => teacher.teacherId !== teacherId);
			this.deleteTeacherId="";
			this.deleteTeacherName="";
		},
		
		
		
		
		
		// // æ‰¹é‡å¯¼å…¥æ•™å¸ˆåå•
		// handleBulkImport(){
		// 	this.chooseExcelFile();
		// 	this.closeSecondConfirmationModal();
		// },
		
		// chooseExcelFile(){
		// 	uni.chooseFile({
		// 	    count: 1, // é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶
		// 	    success: (res) => {
		// 			const file = res.tempFiles[0]; // è·å–é€‰æ‹©çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶
		// 			if (!this.isValidExcel(file)) {
		// 				this.showError('è¯·é€‰æ‹©Excelæ–‡ä»¶!');
		// 				return;
		// 			}
		// 			this.uploadFile(file); // ä¸Šä¼ æ–‡ä»¶
		// 	    },
		// 	    fail: (err) => {
		// 			// console.log('æ–‡ä»¶é€‰æ‹©å¤±è´¥:', err);
		// 	    }
		// 	})
		// },
		
		// isValidExcel(file) {
		//     // æ£€æŸ¥æ–‡ä»¶åç¼€æ˜¯å¦ä¸ºExcelæ ¼å¼
		//     const validExtensions = ['.xlsx', '.xls'];
		//     const fileExtension = file.name.slice(file.name.lastIndexOf('.')).toLowerCase();
		//     return validExtensions.includes(fileExtension);
		// },
		
		// uploadFile(file) {
		// 	uni.showLoading({
		// 	    title: 'ä¸Šä¼ ä¸­...',
		// 	    mask: true
		// 	});
		// 	// ä½¿ç”¨ uni.uploadFile å‘é€ POST è¯·æ±‚ä¸Šä¼ æ–‡ä»¶
		// 	uni.uploadFile({
		// 		url: 'http://localhost:8080/admin/importTeacherInfo',  
		// 		filePath: file.path,             
		// 		name: 'file',                    
				
		// 		success: (res) => {
		// 			console.log(res);
		// 			uni.hideLoading(); // éšè—åŠ è½½æç¤º
		// 			if (res.data.code === '000') {
		// 				this.showError('æ–‡ä»¶å¯¼å…¥æˆåŠŸï¼'); 
		// 			} 
		// 			else {
		// 				this.showError(res.data.info); 
		// 			}
		// 		},
		// 		fail: (error) => {
		// 			uni.hideLoading(); // éšè—åŠ è½½æç¤º
		// 			this.showError('æ–‡ä»¶ä¸Šä¼ å¤±è´¥');
		// 		}
		// 	});
		// },

		
		
		
		
		
		// // â€œæ‰¹é‡å¯¼å…¥â€ç¡®è®¤å¼¹çª—
		// openFirstConfirmationModal() {
		// 	this.showFirstConfirmationModal = true;
		// },
		// openSecondConfirmationModal() {
		//     this.showFirstConfirmationModal = false;
		//     this.showSecondConfirmationModal = true;
		// },
		// closeFirstConfirmationModal() {
		//     this.showFirstConfirmationModal = false;
		// },
		// closeSecondConfirmationModal() {
		//     this.showSecondConfirmationModal = false;
		// },
		
		
		
		// â€œåˆ é™¤æ•™å¸ˆâ€ç¡®è®¤å¼¹çª—
		openFirstConfirmationModal1(teacherId,Name) {
			this.showFirstConfirmationModal1 = true;
			this.deleteTeacherId = teacherId;
			this.deleteTeacherName=Name;
		},
		openSecondConfirmationModal1() {
		    this.showFirstConfirmationModal1 = false;
		    this.showSecondConfirmationModal1 = true;
		},
		closeFirstConfirmationModal1() {
		    this.showFirstConfirmationModal1 = false;
		},
		closeSecondConfirmationModal1() {
		    this.showSecondConfirmationModal1 = false;
		},
		
		
		
		
		// åº•éƒ¨ç‚¹å‡»å¯¼èˆªæ æŒ‰é’®åˆ‡æ¢é¡µé¢
		// goToHome() {
		// 	uni.redirectTo({
		// 		url: `/pages/index/admin/admin1?id=${this.who}`  // æ·»åŠ  id å‚æ•°
		// 	});

		// },
		// goToTeachers() {
		// 	uni.pageScrollTo({
		// 		scrollTop: 0, // æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨
		// 		duration: 500, // æ»šåŠ¨åŠ¨ç”»çš„æŒç»­æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
		// 	});
		// },
		// goToProfile() {
		// 	uni.redirectTo({
		// 		url: `/pages/index/admin/admin3?id=${this.who}`  // å°† id=this.who æ·»åŠ åˆ° URL ä¸­
		// 	});
		// },
		
		
		
		goToHome() {
			if(this.who){
				uni.redirectTo({
					url: `/pages/index/admin/admin1?id=${this.who}`  // æ·»åŠ  id å‚æ•°
				});
			}
			else{
				uni.reLaunch({
					url: "/pages/index/admin/admin1"
				});
			}
		
		},
		goToTeachers() {
			uni.pageScrollTo({
				scrollTop: 0, // æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨
				duration: 500, // æ»šåŠ¨åŠ¨ç”»çš„æŒç»­æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
			});
		},
		goToProfile() {
			if(this.who){
				uni.redirectTo({
					url: `/pages/index/admin/admin3?id=${this.who}`  // æ·»åŠ  id å‚æ•°
				});
			}
			else{
				uni.reLaunch({
					url: "/pages/index/admin/admin3"
				});
			}
		},
		
		
		
		
		
		
		
		
		
		
	},
    
};
</script>


